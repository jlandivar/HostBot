driver.execute_script("window.scrollTo(0, 0)")
driver.find_element(By.ID, "btnLista_calendario").click()

elementoPadre = driver.find_element(By.ID, "listaActividades")
listaDeElementos = elementoPadre.find_elements(By.XPATH, "div")

tabla = driver.find_element(By.ID, "diaActividadesAcordion_" + dia)
iDia = listaDeElementos.index(tabla)
dropDownBtn = elementoPadre.find_elements(By.XPATH, "h2")[iDia]
dropDownBtn.click()
botones = tabla.find_elements(By.XPATH, "table/tbody/tr/td[3]/button")

eliminados = 0

for i in regNumbers:
    cargandoX = True
    while cargandoX:
        try:
            botones[i - eliminados].click()
            print("click")
            cargandoX = False
        except ElementNotInteractableException:
            print("noX")

    cargandoSi = True
    while cargandoSi:
        try:
            print("antes de buscar el boton si")
            driver.find_element(By.XPATH, "/html/body/div/div/div/button/span").click()
            print("click si hecho")
            cargandoSi = False
        except ElementNotInteractableException:
            print("noSiBtn")

    cargandoBorrado = True
    while cargandoBorrado:
        try:
            driver.execute_script("window.scrollTo(0, 0)")
            driver.find_element(By.ID, "menuButtonOpen").click()
            driver.find_element(By.ID, "menuButtonOpen").click()
            cargandoBorrado = False
        except ElementClickInterceptedException:
            continue

    try:
        listaDeElementos = elementoPadre.find_elements(By.XPATH, "div")
        tabla = driver.find_element(By.ID, "diaActividadesAcordion_" + dia)
        iDia = listaDeElementos.index(tabla)
        dropDownBtn = elementoPadre.find_elements(By.XPATH, "h2")[iDia]
        horas, mins = dropDownBtn.find_element(By.XPATH, "a/table/tbody/tr/td").text.split(" ")[5][1:].split(':')
        tiempo = (int(horas) + int(mins) / 60)
        botones = tabla.find_elements(By.XPATH, "table/tbody/tr/td[3]/button")
    except NoSuchElementException:
        tiempo = 0

    print("tiempo =", tiempo)
    window.calendario.tiempoPorDia[int(dia)] = tiempo
    date = window.calendario.dayNumberToDate(int(dia))
    window.calendario.updateCell(date)
    window.activityView.model().removeRow(i - eliminados)
    eliminados+=1


